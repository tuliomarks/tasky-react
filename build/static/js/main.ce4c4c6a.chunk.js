(this.webpackJsonptasky=this.webpackJsonptasky||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),c=n(10),r=n.n(c),l=(n(17),n(18),n(3)),i=n(2),o=n.n(i),d=n(1),j=function(e){return Object(d.jsxs)("div",{className:"flex flex-row shadow p-4 rounded-lg mb-2 bg-white",children:[Object(d.jsxs)("div",{className:"flex-grow mr-2",children:[Object(d.jsx)("span",{children:e.title}),Object(d.jsx)("p",{className:"pl-4 text-xs",dangerouslySetInnerHTML:{__html:e.description.replaceAll("\n","<br>")}}),Object(d.jsxs)("div",{className:"flex flex-row",children:[Object(d.jsxs)("span",{className:"text-sm text-gray-400 mr-2",children:[Object(d.jsx)(l.a,{className:"h-4 w-4 inline mr-2"}),o()(e.dateCreated).format("DD/MM/YYYY")]}),e.finishedAt&&Object(d.jsxs)("span",{className:"text-sm text-green-400",children:[Object(d.jsx)(l.b,{className:"h-4 w-4 inline mr-2"}),o()(e.finishedAt).format("DD/MM/YYYY")]})]})]}),Object(d.jsx)("div",{className:"flex flex-none flex-row items-center",children:e.children})]})},u=n(5),f=n(4),x=n(11),b="Tasky.tasks",h=function e(){Object(x.a)(this,e)};h.getAll=function(){var e=localStorage.getItem(b);return e?JSON.parse(e):[]},h.updateAll=function(e){localStorage.setItem(b,JSON.stringify(e))};var m,O=h,p=n(12);!function(e){e.Add="ADD_TASK",e.Modify="MODIFY_TASK",e.Remove="REMOVE_TASK"}(m||(m={}));var y=function(e,t){switch(t.type){case m.Add:var n=[].concat(Object(p.a)(e),[t.payload.task]);return O.updateAll(n),n;case m.Modify:var s=e.findIndex((function(e){return e.id===t.payload.task.id}));return e[s]=Object(u.a)({},t.payload.task),O.updateAll(e),e;case m.Remove:var a=e.filter((function(e){return e!==t.payload.task}));return O.updateAll(a),a;default:return e}},g={tasks:O.getAll()},v=Object(s.createContext)({state:g,dispatch:function(){return null}}),w=function(e,t){var n=e.tasks;return{tasks:y(n,t)}},N=function(e){var t=e.children,n=Object(s.useReducer)(w,g),a=Object(f.a)(n,2),c=a[0],r=a[1];return Object(d.jsx)(v.Provider,{value:{state:c,dispatch:r},children:t})},k=function(e){var t=e.color||"default",n=e.type||"button";return Object(d.jsx)("button",{type:n,className:"shadow hover:shadow-lg p-4 rounded-lg ease-linear transition-all duration-150 font-bold "+("default"===t?"bg-white hover:bg-gray-100":"primary"===t?"bg-primary-500 hover:bg-primary-600 text-white":"secondary"===t?"bg-secondary hover:bg-secondary-600 text-white":void 0)+" "+e.className,onClick:e.onClick,children:e.children})},C=function(e){return Object(d.jsxs)("div",{className:"mb-3 pt-0"+e.className,children:[Object(d.jsx)("input",{type:"text",value:e.value,placeholder:e.placeholder,className:"px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",onChange:e.onChange}),e.hint&&Object(d.jsx)("p",{className:"text-gray-600 text-xs italic",children:e.hint})]})},D=function(e){return Object(d.jsxs)("div",{className:"mb-3 pt-0"+e.className,children:[Object(d.jsx)("textarea",{placeholder:e.placeholder,value:e.value,className:"px-3 py-3 placeholder-gray-300 text-gray-600 relative bg-white bg-white rounded text-sm border-0 shadow outline-none focus:outline-none focus:ring w-full",onChange:e.onChange}),e.hint&&Object(d.jsx)("p",{className:"text-gray-600 text-xs italic",children:e.hint})]})},A=function(e){var t=Object(s.useState)(!1),n=Object(f.a)(t,2),a=n[0],c=n[1];return Object(s.useEffect)((function(){setTimeout((function(){c(e.isVisible)}),100);var t=function(t){"Escape"===t.key&&e.onClose&&e.onClose()};return document.addEventListener("keydown",t,!1),function(){document.removeEventListener("keydown",t,!1)}}),[e]),Object(d.jsxs)("div",{className:"modal fixed w-full h-full top-0 left-0 flex items-center justify-center ease-linear transition-all duration-200 "+(a?null:"opacity-0 pointer-events-none"),children:[Object(d.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50"}),Object(d.jsxs)("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto",children:[Object(d.jsxs)("div",{className:"modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-50",onClick:e.onClose,children:[Object(d.jsx)(l.j,{className:"h-5 w-5"}),Object(d.jsx)("span",{className:"text-sm",children:"(Esc)"})]}),Object(d.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(d.jsxs)("div",{className:"flex justify-between items-center pb-3",children:[Object(d.jsx)("p",{className:"text-lg font-bold",children:e.title}),Object(d.jsx)("div",{className:"modal-close cursor-pointer z-50",onClick:e.onClose,children:Object(d.jsx)(l.j,{className:"h-5 w-5 text-gray-400"})})]}),e.children]})]})]})},S=function(e){var t=Object(s.useContext)(v).dispatch,n=Object(s.useState)(!1),a=Object(f.a)(n,2),c=a[0],r=a[1];return Object(d.jsxs)("div",{className:"flex flex-col p-2 "+e.className,children:[Object(d.jsxs)("div",{className:"flex flex-row my-2 items-center",children:[Object(d.jsx)("h3",{className:"font-bold flex-grow",children:e.title}),"todo"===e.type&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(k,{className:"flex-none",onClick:function(){return r(!0)},children:Object(d.jsx)(l.g,{className:"h-5 w-5 text-gray-400"})}),c&&Object(d.jsx)(A,{title:"New Task",isVisible:c,onClose:function(){return r(!1)},children:Object(d.jsx)(F,{onSubmit:function(e){t({type:m.Add,payload:{task:e}})},onClose:function(){return r(!1)}})})]})]}),0!==e.tasks.length?e.tasks.map((function(n,s){return Object(d.jsxs)(j,{title:n.title,description:n.description,finishedAt:n.finishedAt,children:["todo"===e.type&&Object(d.jsx)(k,{className:"mr-2",onClick:function(){return function(e){t({type:m.Modify,payload:{task:Object(u.a)(Object(u.a)({},e),{},{startedAt:new Date})}})}(n)},children:Object(d.jsx)(l.f,{className:"h-5 w-5 text-primary-500"})}),!n.finishedAt&&"doing"===e.type&&Object(d.jsx)(k,{className:"mr-2",onClick:function(){return function(e){t({type:m.Modify,payload:{task:Object(u.a)(Object(u.a)({},e),{},{finishedAt:new Date})}})}(n)},children:Object(d.jsx)(l.e,{className:"h-5 w-5 text-green-400"})}),Object(d.jsx)(k,{onClick:function(){return function(e){t({type:m.Remove,payload:{task:e}})}(n)},children:Object(d.jsx)(l.i,{className:"h-5 w-5 text-red-400"})})]},s)})):Object(d.jsx)("div",{children:"No tasks found!"})]})},M=function(e){return Object(d.jsx)("li",{className:"flex flex-auto p-4 border-r border-gray-500 border-opacity-25 hover:bg-opacity-50 ease-linear transition-all duration-150 "+(e.isSelected?"bg-primary-500 bg-opacity-25":o()().isSame(e.date,"week")?"bg-secondary-300 bg-opacity-25":"bg-white hover:bg-secondary-200"),children:Object(d.jsxs)("button",{className:"flex flex-col flex-auto items-center",onClick:function(){return e.onDayClick(e.date)},children:[Object(d.jsxs)("span",{className:"text-sm",children:[o()(e.date).startOf("week").format("DD"),"-",o()(e.date).endOf("week").format("DD")]}),Object(d.jsx)("span",{className:"text-sm text-gray-500",children:o()(e.date).format("MMM")})]})})},T=function(e){var t=Object(s.useState)(e.referenceDay||new Date),n=Object(f.a)(t,2),a=n[0],c=n[1],r=e.selectedDay||a,i=function(t){for(var n=e.weeksToShow||5,s=o()(t).startOf("isoWeek").add(-n/2,"w"),a=[],c=0;c<n;c++)a.push(s.add(1,"w").toDate());return a}(a),j=function(t){e.onDayChanged(t)};return Object(d.jsxs)("ul",{className:"flex flex-row p-4 my-4 rounded-lg shadow bg-white self-stretch",children:[Object(d.jsx)("li",{className:"p-4 border-r border-gray-500 border-opacity-25 self-center",children:Object(d.jsx)("button",{onClick:function(){var e=o()(a).add(-3,"w").toDate();c(e)},children:Object(d.jsx)(l.c,{className:"h-5 w-5 text-secondary-700"})})}),0!==i.length?i.map((function(e){return Object(d.jsx)(M,{date:e,isSelected:o()(e).isSame(r,"w"),onDayClick:j},e.getUTCDate())})):Object(d.jsx)("p",{children:"It's the end predit by mayans"}),Object(d.jsx)("li",{className:"p-4 self-center",children:Object(d.jsx)("button",{onClick:function(){var e=o()(a).add(3,"w").toDate();c(e)},children:Object(d.jsx)(l.d,{className:"h-5 w-5 text-secondary-700"})})})]})},Y=function(e){var t,n=Object(s.useContext)(v).dispatch,a=Object(s.useState)(new Date),c=Object(f.a)(a,2),r=c[0],i=c[1],u=Object(s.useState)(new Date),x=Object(f.a)(u,2),b=x[0],h=x[1],O=(t=b,e.tasks.filter((function(e){return e.finishedAt&&o()(t).startOf("week").isSameOrBefore(e.finishedAt,"day")&&o()(t).endOf("week").isSameOrAfter(e.finishedAt,"day")})).sort((function(e,t){return o()(e.finishedAt).isBefore(t.finishedAt)?1:-1})));return Object(d.jsxs)("div",{className:"flex flex-col p-2 "+e.className,children:[Object(d.jsxs)("div",{className:"flex flex-row my-2 items-center",children:[Object(d.jsx)("h3",{className:"font-bold flex-grow",children:e.title}),Object(d.jsx)(k,{className:"flex-none",onClick:function(){h(new Date),i(new Date)},children:Object(d.jsx)(l.h,{className:"h-5 w-5 text-gray-400"})})]}),Object(d.jsx)(T,{onDayChanged:function(e){h(e)},weeksToShow:5,selectedDay:b,referenceDay:r}),0!==O.length?O.map((function(e,t){return Object(d.jsx)(j,{title:e.title,description:e.description,finishedAt:e.finishedAt,children:Object(d.jsx)(k,{onClick:function(){return function(e){n({type:m.Remove,payload:{task:e}})}(e)},children:Object(d.jsx)(l.i,{className:"h-5 w-5 text-red-400"})})},t)})):Object(d.jsx)("div",{children:"No tasks found!"})]})},E=n(7),I=function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*s));return t},F=function(e){var t=Object(s.useState)({title:"",description:""}),n=Object(f.a)(t,2),a=n[0],c=n[1],r=function(e,t){var n;t.preventDefault(),c(Object(u.a)(Object(u.a)({},a),{},Object(E.a)({},e,null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value)))};return Object(d.jsxs)("form",{className:"flex flex-col",onSubmit:function(t){t.preventDefault();var n=Object(u.a)(Object(u.a)({},a),{},{dateCreated:new Date,id:I(18)});e.onSubmit&&e.onSubmit(n),e.onClose&&e.onClose()},children:[Object(d.jsx)(C,{placeholder:"Title",className:"mb-5",value:a.title,onChange:function(e){return r("title",e)}}),Object(d.jsx)(D,{className:"h-10",value:a.description,onChange:function(e){return r("description",e)}}),Object(d.jsxs)("div",{className:"flex flex-row justify-end",children:[Object(d.jsx)(k,{className:"mr-2",onClick:e.onClose,children:"Cancel"}),Object(d.jsx)(k,{className:"min-w-1/6",color:"primary",type:"submit",children:"Add"})]})]})},R=function(){var e=Object(s.useContext)(v).state;return Object(d.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[Object(d.jsx)("div",{className:"flex self-stretch flex-row justify-center items-center m-4",children:Object(d.jsx)("h3",{className:"text-center m-4",children:o()().format("dddd, DD MMMM YYYY")})}),Object(d.jsxs)("div",{className:"flex self-stretch flex-row",children:[Object(d.jsx)(S,{className:"flex-1",title:"To Do",tasks:e.tasks.filter((function(e){return!e.startedAt})),type:"todo"}),Object(d.jsx)(S,{className:"flex-1",title:"Doing",tasks:e.tasks.filter((function(e){return e.startedAt&&!e.finishedAt})),type:"doing"}),Object(d.jsx)(Y,{className:"flex-1",title:"Done",tasks:e.tasks})]})]})},L=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_,{}),Object(d.jsx)("div",{className:"h-screen bg-gray-100",children:Object(d.jsx)("div",{className:"container mx-auto",children:Object(d.jsx)(R,{})})})]})},_=function(){return Object(d.jsx)("header",{className:"flex items-center justify-center flex-wrap bg-primary-600 p-6",children:Object(d.jsx)("a",{className:"font-bold text-xl text-white",href:"https://tasky.it",target:"_blank",rel:"noreferrer",children:"Tasky!"})})},B=function(){return Object(d.jsx)(N,{children:Object(d.jsx)(L,{})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(B,{})}),document.getElementById("root")),J()}},[[21,1,2]]]);
//# sourceMappingURL=main.ce4c4c6a.chunk.js.map